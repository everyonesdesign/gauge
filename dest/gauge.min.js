var gauge=function(a,b,c){function d(){for(var e=0;e<a.children.length;e++)a.removeChild(a.children[e]);for(var f=0;f<b.marks.length;f++){var g=gauge.chooseColor(f/(b.marks.length-1)*100,b.colors),h=gauge.getSegment(f,b.marks.length,a.clientWidth,c.aperture,g);a.appendChild(h)}for(var i=0;i<b.marks.length;i++){var j=gauge.getLabel(i,b.marks.length,a.clientWidth,c.aperture,b.marks[i]);a.appendChild(j)}var k=gauge.getArrow(b.currentIndex,b.marks.length-1,a.clientWidth,c.aperture);return a.appendChild(k),{setData:function(a){gauge.extend(b,a),d()},setCurrentIndex:function(a){gauge.extend(b,{currentIndex:a}),gauge.setArrowRotation(k,a,b.marks.length-1,c.aperture)}}}if(b){if(!a.length){var e={aperture:270};return c=gauge.extend(e,c),d()}for(var f=0;f<a.length;f++)gauge.init(a[f])}};gauge.extend=function(a,b){a=a||{};for(var c in b)a[c]="object"==typeof b[c]?gauge.extend(a[c],b[c]):b[c];return a},gauge.vendors=["-webkit-","-moz-","-ms-","-o-",""],gauge.extend(gauge,{chooseColor:function(a,b){for(var c="",d=0;d<b.length;d++)a>=b[d].threshold&&(c=b[d].value);return c},getSegment:function(a,b,c,d,e){var f=document.createElement("div"),g=document.createElement("div"),h=document.createElement("div");h.className="gauge-circle",f.style.position="absolute",f.style.top=0,f.style.left=0,f.style.overflow="hidden",g.style.overflow="hidden",f.style.width=c+"px",g.style.width=c+"px",h.style.width=c+"px",f.style.height=c/2+"px",g.style.height=c/2+"px",h.style.height=c+"px";var i=(360-d)/2,j=d/(b-1),k=270+i+j*a-j/2,l=270-(90-j);a?a==b-1&&(l-=j/2):k+=j/2;for(var m=0;m<gauge.vendors.length;m++)f.style[gauge.vendors[m]+"transform-origin"]="50% 100%",g.style[gauge.vendors[m]+"transform-origin"]="50% 100%",f.style[gauge.vendors[m]+"transform"]="rotate("+k+"deg)",g.style[gauge.vendors[m]+"transform"]="rotate("+l+"deg)",h.style[gauge.vendors[m]+"border-radius"]="50%",h.style[gauge.vendors[m]+"box-sizing"]="border-box";return e&&(h.style.borderColor=e),f.appendChild(g),g.appendChild(h),f},getLabel:function(a,b,c,d,e){var f=document.createElement("div");f.className="gauge-label";var g=document.createElement("div");g.className="gauge-labelText",f.style.position="absolute",f.style.top=c/2+"px",f.style.width=c/2+"px",f.style.height="30px",f.style.lineHeight="30px",f.style.marginTop="-15px",f.style.right="50%",g.style.display="inline-block";for(var h=(360-d)/2,i=a/(b-1),j=270+h+d*i,k=0;k<gauge.vendors.length;k++)f.style[gauge.vendors[k]+"transform-origin"]="100% 50%",f.style[gauge.vendors[k]+"transform"]="rotate("+j+"deg)",f.style[gauge.vendors[k]+"transform-origin"]="100% 50%",g.style[gauge.vendors[k]+"transform"]="rotate(-"+j+"deg)";return g.innerText=e,f.appendChild(g),f},getArrow:function(a,b,c,d){var e=document.createElement("div");e.className="gauge-arrow";var f=document.createElement("div");e.style.position="absolute",e.style.top="50%",e.style.left="50%",e.style.marginLeft="-6px",e.style.marginTop="-6px",e.style.width="12px",e.style.height="12px",e.style.background="currentColor",f.style.position="absolute",f.style.top="50%",f.style.right="100%",f.style.marginTop="-4px",f.style.marginRight="-6px",f.style.borderStyle="solid",f.style.borderWidth="4px "+c/2+"px 4px 0",f.style.borderColor="transparent currentColor transparent transparent";for(var g=0;g<gauge.vendors.length;g++)e.style[gauge.vendors[g]+"border-radius"]="50%";return gauge.setArrowRotation(e,a,b,d),e.appendChild(f),e},setArrowRotation:function(a,b,c,d){for(var e=(360-d)/2,f=b/c,g=270+e+d*f,h=0;h<gauge.vendors.length;h++)a.style[gauge.vendors[h]+"transform"]="rotate("+g+"deg)"}});