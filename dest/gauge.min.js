var gauge=function(a,b,c){if(b)if(a.length)for(var d;d<a.length;d++)gauge.init(a[d]);else{var e={aperture:270};c=gauge.extend(e,c);for(var f=b.marks.length-1,g=0;f>g;g++){var h=gauge.chooseColor(g/(f-1)*100,b.colors),i=gauge.getSegment(g,f,a.clientWidth,c.aperture,h);a.appendChild(i)}}};gauge.extend=function(a,b){a=a||{};for(var c in b)a[c]="object"==typeof b[c]?gauge.extend(a[c],b[c]):b[c];return a},gauge.vendors=["-webkit-","-moz-","-ms-","-o-",""],gauge.extend(gauge,{chooseColor:function(a,b){for(var c="",d=0;d<b.length;d++)a>=b[d].threshold&&(c=b[d].value);return c},getSegment:function(a,b,c,d,e){var f=document.createElement("div"),g=document.createElement("div"),h=document.createElement("div");h.className="gauge-circle",f.style.position="absolute",f.style.top=0,f.style.left=0,f.style.overflow="hidden",g.style.overflow="hidden",f.style.width=c+"px",g.style.width=c+"px",h.style.width=c+"px",f.style.height=c/2+"px",g.style.height=c/2+"px",h.style.height=c+"px";for(var i=(360-d)/2,j=d/b+1,k=-90+i+j*a,l=-90-(90-j),m=0;m<gauge.vendors.length;m++)f.style[gauge.vendors[m]+"transform-origin"]="50% 100%",g.style[gauge.vendors[m]+"transform-origin"]="50% 100%",f.style[gauge.vendors[m]+"transform"]="rotate("+k+"deg)",g.style[gauge.vendors[m]+"transform"]="rotate("+l+"deg)",h.style[gauge.vendors[m]+"border-radius"]="50%",h.style[gauge.vendors[m]+"box-sizing"]="border-box";return e&&(h.style.borderColor=e),f.appendChild(g),g.appendChild(h),f}});