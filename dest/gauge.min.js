var gauge=function(a,b,c){if(b)if(a.length)for(var d;d<a.length;d++)gauge.init(a[d]);else{var e={aperture:270};c=gauge.extend(e,c);for(var f=b.marks.length-1,g=0;f>g;g++){var h=gauge.chooseColor(g/(f-1)*100,b.colors),i=gauge.getSegment(g,f,a.clientWidth,c.aperture,h);a.appendChild(i)}for(var j=0;j<b.marks.length;j++){var k=gauge.getLabel(j,b.marks.length,a.clientWidth,c.aperture,b.marks[j]);a.appendChild(k)}}};gauge.extend=function(a,b){a=a||{};for(var c in b)a[c]="object"==typeof b[c]?gauge.extend(a[c],b[c]):b[c];return a},gauge.vendors=["-webkit-","-moz-","-ms-","-o-",""],gauge.extend(gauge,{chooseColor:function(a,b){for(var c="",d=0;d<b.length;d++)a>=b[d].threshold&&(c=b[d].value);return c},getSegment:function(a,b,c,d,e){var f=document.createElement("div"),g=document.createElement("div"),h=document.createElement("div");h.className="gauge-circle",f.style.position="absolute",f.style.top=0,f.style.left=0,f.style.overflow="hidden",g.style.overflow="hidden",f.style.width=c+"px",g.style.width=c+"px",h.style.width=c+"px",f.style.height=c/2+"px",g.style.height=c/2+"px",h.style.height=c+"px";var i=(360-d)/2,j=d/(b-1),k=270+i+j*a-j/2,l=270-(90-j);a?a==b-1&&(l-=j/2):k+=j/2;for(var m=0;m<gauge.vendors.length;m++)f.style[gauge.vendors[m]+"transform-origin"]="50% 100%",g.style[gauge.vendors[m]+"transform-origin"]="50% 100%",f.style[gauge.vendors[m]+"transform"]="rotate("+k+"deg)",g.style[gauge.vendors[m]+"transform"]="rotate("+l+"deg)",h.style[gauge.vendors[m]+"border-radius"]="50%",h.style[gauge.vendors[m]+"box-sizing"]="border-box";return e&&(h.style.borderColor=e),f.appendChild(g),g.appendChild(h),f},getLabel:function(a,b,c,d,e){var f=document.createElement("div");f.className="gauge-label";var g=document.createElement("div");g.className="gauge-labelText",f.style.position="absolute",f.style.top=c/2+"px",f.style.width=c/2+"px",f.style.height="30px",f.style.lineHeight="30px",f.style.marginTop="-15px",f.style.right="50%",g.style.display="inline-block";for(var h=(360-d)/2,i=270+h+d*a/(b-1),j=0;j<gauge.vendors.length;j++)f.style[gauge.vendors[j]+"transform-origin"]="100% 50%",f.style[gauge.vendors[j]+"transform"]="rotate("+i+"deg)",f.style[gauge.vendors[j]+"transform-origin"]="100% 50%",g.style[gauge.vendors[j]+"transform"]="rotate(-"+i+"deg)";return g.innerText=e,f.appendChild(g),f}});